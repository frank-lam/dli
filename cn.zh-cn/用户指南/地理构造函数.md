# 地理构造函数<a name="dli_01_0354"></a>

地理构造函数可以实现从WKT、WKB、GeoHash编码等输入中构造出Geometry。

## st\_geomFromGeoHash<a name="section118825015541"></a>

```
Geometry st_geomFromGeoHash(String geohash, Int prec)
```

返回与Geohash字符串geohash（base-32编码）对应的边界框的Geometry，其精度为prec位。 有关GeoHashes的更多信息，请参阅[Geohash](http://www.geomesa.org/documentation/user/appendix/utils.html#geohash)。

示例：

-   查询命令：

    **select st\_astext\(st\_geomFromGeoHash\('ssf17',25\)\)**

-   查询结果：

    ```
    POLYGON ((25.4443359375 26.9384765625, 25.4443359375 26.982421875, 25.48828125 26.982421875, 25.48828125 26.9384765625, 25.4443359375 26.9384765625))
    ```


## st\_box2DFromGeoHash<a name="section166072233116"></a>

```
Geometry st_box2DFromGeoHash(String geohash, Int prec)
```

st\_geomFromGeoHash的别称，示例同st\_geomFromGeoHash。

## st\_geomFromWKB<a name="section32038695717"></a>

```
Geometry st_geomFromWKB(Array[Byte] wkb)
```

从给定的已知文本标记语言的二进制表示（WKB）创建Geometry。

示例：

-   查询命令：

    **select st\_astext\(\(st\_geomFromWKB\(st\_asBinary\(st\_geomFromText\(location\)\)\)\)\) from geotbl where id='3'**

-   查询结果：

    ```
    MULTIPOLYGON (((30 20, 45 40, 10 40, 30 20)), ((15 5, 40 10, 10 20, 5 10, 15 5)))
    ```


## st\_geomFromWKT<a name="section356665814212"></a>

```
Geometry st_geomFromWKT(String wkt)
```

根据给定的已知文本标记语言（WKT）创建Geometry。

## st\_geomFromText<a name="section393492591312"></a>

```
Geometry st_geomFromText(String wkt)
```

st\_geomFromWKT的别称。

示例：

-   查询命令：

    **select st\_astext\(\(st\_geomFromText\(location\)\)\) from geotbl where id='1'**

-   查询结果：

    ```
    POLYGON ((30 10, 40 40, 20 40, 10 20, 30 10))
    ```


## st\_geometryFromText\(String wkt\)<a name="section65021436185715"></a>

```
Geometry st_geometryFromText(String wkt)
```

st\_geomFromWKT的别称。

示例：

-   查询命令：

    **select st\_astext\(\(st\_geometryFromText\(location\)\)\) from geotbl where id='5'**

-   查询结果：

    ```
    LINESTRING (30 10, 40 40, 20 40, 10 20, 30 10)
    ```


## st\_lineFromText<a name="section231519351373"></a>

```
LineString st_lineFromText(String wkt)
```

从给定的WKT创建LineString。

示例：

-   查询命令：

    **select st\_astext\(\(st\_lineFromText\(location\)\)\) from geotbl where id='5'**

-   查询结果：

    ```
    LINESTRING (30 10, 40 40, 20 40, 10 20, 30 10)
    ```


## st\_mLineFromText<a name="section15748134794016"></a>

```
MultiLineString st_mLineFromText(String wkt)
```

创建与给定WKT相对应的MultiLineString。

示例：

-   查询命令：

    **select st\_astext\(\(st\_mLineFromText\(location\)\)\) from geotbl where id='7'**

-   查询结果：

    ```
    MULTILINESTRING ((30 10, 40 40, 20 40, 10 20, 30 10), (30 10, 40 40, 20 40, 10 20, 30 10))
    ```


## st\_mPointFromText<a name="section56291617174815"></a>

```
MultiPoint st_mPointFromText(String wkt)
```

创建与给定WKT相对应的MultiPoint。

示例：

-   查询命令：

    **select st\_astext\(\(st\_mPointFromText\(location\)\)\) from geotbl where id='8'**

-   查询结果：

    ```
    MULTIPOINT ((11 22), (10 22))
    ```


## st\_mPolyFromText<a name="section534322424919"></a>

```
MultiPolygon st_mPolyFromText(String wkt)
```

创建与给定WKT相对应的MultiPolygon。

示例：

-   查询命令：

    **select st\_astext\(\(st\_mPolyFromText\(location\)\)\) from geotbl where id='3'**

-   查询结果：

    ```
    MULTIPOLYGON (((30 20, 45 40, 10 40, 30 20)), ((15 5, 40 10, 10 20, 5 10, 15 5)))
    ```


## st\_makeBBOX<a name="section173317190501"></a>

```
Geometry st_makeBBOX(Double lowerX, Double lowerY, Double upperX, Double upperY)
```

创建具有给定边界的边界框的Geometry。

示例：

-   查询命令：

    **select st\_astext\(\(st\_makeBBOX\(10,20,10,20\)\)\)**

-   查询结果：

    ```
    POINT (10 20)
    ```


## st\_makeBox2D<a name="section564816510522"></a>

```
Geometry st_makeBox2D(Point lowerLeft, Point upperRight)
```

创建一个由给定points定义的Geometry。

示例：

-   查询命令：

    **select st\_astext\(st\_makeBox2D\(st\_castToPoint\(st\_geomFromWKT\('POINT \(11 22\)'\)\),st\_castToPoint\(st\_geomFromWKT\('POINT \(10 20\)'\)\)\)\)**

-   查询结果：

    ```
    POLYGON ((10 20, 10 22, 11 22, 11 20, 10 20))
    ```


## st\_makePoint<a name="section1330133715144"></a>

```
Point st_makePoint(Double x, Double y)
```

创建一个带有x和y坐标的point。

示例：

-   查询命令：

    **select st\_astext\(st\_makePoint\(1,2\)\)**

-   查询结果：

    ```
    POINT (1 2)
    ```


## st\_makePointM<a name="section10573162111817"></a>

```
Point st_makePointM(Double x, Double y, Double m)
```

创建一个带有x，y和m坐标的point。

示例：

-   查询命令：

    **select st\_astext\(st\_makePointM\(1,2,2\)\)**

-   查询结果：

    ```
    POINT (1 2)
    ```


## st\_makePolygon<a name="section1582711481202"></a>

```
Polygon st_makePolygon(LineString shell)
```

创建由给定LineString shell形成的Polygon，该LingString首尾必须是闭合的。

示例：

-   查询命令：

    **select st\_astext\(st\_makePolygon\(st\_castToLineString\(st\_geomFromWKT\('LINESTRING \(30 10, 40 40, 20 40, 10 20, 30 10\)'\)\)\)\)**

-   查询结果：

    ```
    POLYGON ((30 10, 40 40, 20 40, 10 20, 30 10))
    ```


## st\_point<a name="section7541288230"></a>

```
Point st_point(Double x, Double y)
```

返回具有给定坐标值的point。 这是st\_makePoint的OGC别名。

示例：

-   查询命令：

    **select st\_astext\(st\_point\(1,2\)\)**

-   查询结果：

    ```
    POINT (1 2)
    ```


## st\_pointFromGeoHash<a name="section123121434182411"></a>

```
Point st_pointFromGeoHash(String geohash, Int prec)
```

返回由Geohash字符串geohash（base-32编码）定义的边界框的几何对象中心处的point，其精度为prec位。 有关Geohash的更多信息，请参见[Geohash](http://www.geomesa.org/documentation/user/appendix/utils.html#geohash)。

示例：

-   查询命令：

    **select st\_astext\(st\_pointFromGeoHash\('s5zv4',25\)\)**

-   查询结果：

    ```
    POINT (11.00830078125 21.99462890625)
    ```


## st\_pointFromText<a name="section134311709284"></a>

```
Point st_pointFromText(String wkt)
```

创建与给定WKT相对应的point。

示例：

-   查询命令：

    **select st\_astext\(st\_pointFromText\('POINT \(1 2\)'\)\)**

-   查询结果：

    ```
    POINT (1 2)
    ```


## st\_pointFromWKB<a name="section2662055112913"></a>

```
Point st_pointFromWKB(Array[Byte] wkb)
```

创建与给定WKB相对应的point。

示例：

-   查询命令：

    **select st\_astext\(\(st\_pointFromWKB\(st\_asBinary\(st\_geomFromText\(location\)\)\)\)\) from geotbl where id='6'**

-   查询结果：

    ```
    POINT (11 22)
    ```


## st\_polygon<a name="section1068694019316"></a>

```
Polygon st_polygon(LineString shell)
```

创建由给定LineString shell形成的polygon，且该polygon必须是闭合的。

示例：

-   查询命令：

    **select st\_astext\(st\_polygon\(st\_castToLineString\(st\_geomFromWKT\('LINESTRING \(30 10, 40 40, 20 40, 10 20, 30 10\)'\)\)\)\)**

-   查询结果：

    ```
    POLYGON ((30 10, 40 40, 20 40, 10 20, 30 10))
    ```


## st\_polygonFromText<a name="section4213192843411"></a>

```
Polygon st_polygonFromText(String wkt)
```

创建与给定WKT相对应的polygon。

示例：

-   查询命令：

    **select st\_astext\(st\_polygonFromText\('POLYGON \(\(30 10, 40 40, 20 40, 10 20, 30 10\)\)'\)\)**

-   查询结果：

    ```
    POLYGON ((30 10, 40 40, 20 40, 10 20, 30 10))
    ```


