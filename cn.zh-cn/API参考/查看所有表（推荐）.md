# 查看所有表（推荐）<a name="dli_02_0105"></a>

## 功能介绍<a name="s7f2609ef76ce4357a84b159e44d00781"></a>

该API用于查询指定数据库下符合过滤条件的或所有的表信息。

## URI<a name="se10f64ce4de2477d9996287115b600b1"></a>

-   URI格式：

    GET /v1.0/\{project\_id\}/databases/\{database\_name\}/tables?keyword=tb&with-detail=true

-   参数说明

    **表 1**  URI 参数

    <a name="zh-cn_topic_0069077902_table9389911"></a>
    <table><thead align="left"><tr id="zh-cn_topic_0069077902_row54504408"><th class="cellrowborder" valign="top" width="16%" id="mcps1.2.4.1.1"><p id="a8458749b29894d3fb004a6140c9eed06"><a name="a8458749b29894d3fb004a6140c9eed06"></a><a name="a8458749b29894d3fb004a6140c9eed06"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="10%" id="mcps1.2.4.1.2"><p id="ab6639d8fdb38425c8734ebe8fd002745"><a name="ab6639d8fdb38425c8734ebe8fd002745"></a><a name="ab6639d8fdb38425c8734ebe8fd002745"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="74%" id="mcps1.2.4.1.3"><p id="zh-cn_topic_0069077902_p172651633147"><a name="zh-cn_topic_0069077902_p172651633147"></a><a name="zh-cn_topic_0069077902_p172651633147"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row137651841194120"><td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0069077803_p43412436"><a name="zh-cn_topic_0069077803_p43412436"></a><a name="zh-cn_topic_0069077803_p43412436"></a>project_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0069077803_p26746391"><a name="zh-cn_topic_0069077803_p26746391"></a><a name="zh-cn_topic_0069077803_p26746391"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="74%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0069077803_p18974100"><a name="zh-cn_topic_0069077803_p18974100"></a><a name="zh-cn_topic_0069077803_p18974100"></a>来自公有云的Project ID，用于资源隔离。获取方式请参考<a href="获取项目编号.md">获取项目编号</a>。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0069077902_row48387156"><td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0069077902_p27045553"><a name="zh-cn_topic_0069077902_p27045553"></a><a name="zh-cn_topic_0069077902_p27045553"></a>database_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0069077902_p43206166"><a name="zh-cn_topic_0069077902_p43206166"></a><a name="zh-cn_topic_0069077902_p43206166"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="74%" headers="mcps1.2.4.1.3 "><p id="p3742145010314"><a name="p3742145010314"></a><a name="p3742145010314"></a>查看表所在的数据库名称。</p>
    </td>
    </tr>
    <tr id="zh-cn_topic_0069077902_row23238289"><td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.4.1.1 "><p id="zh-cn_topic_0069077902_p3253234"><a name="zh-cn_topic_0069077902_p3253234"></a><a name="zh-cn_topic_0069077902_p3253234"></a>keyword</p>
    </td>
    <td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.4.1.2 "><p id="zh-cn_topic_0069077902_p62185433"><a name="zh-cn_topic_0069077902_p62185433"></a><a name="zh-cn_topic_0069077902_p62185433"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="74%" headers="mcps1.2.4.1.3 "><p id="zh-cn_topic_0069077902_p3855275"><a name="zh-cn_topic_0069077902_p3855275"></a><a name="zh-cn_topic_0069077902_p3855275"></a>过滤表名称的关键词。</p>
    </td>
    </tr>
    <tr id="row01813192811"><td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.4.1.1 "><p id="p10192031182812"><a name="p10192031182812"></a><a name="p10192031182812"></a>with-detail</p>
    </td>
    <td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.4.1.2 "><p id="p131993119287"><a name="p131993119287"></a><a name="p131993119287"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="74%" headers="mcps1.2.4.1.3 "><p id="p11207314286"><a name="p11207314286"></a><a name="p11207314286"></a>是否获取表的详细信息（所有者，size等）。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 请求消息<a name="s8cae0d99468d48bf87e3d8d1c203d620"></a>

无请求参数。

## 响应消息<a name="s7cabf81dadd44774acfb66ac5fa1380b"></a>

**表 2**  响应参数

<a name="zh-cn_topic_0069077902_table35569146"></a>
<table><thead align="left"><tr id="zh-cn_topic_0069077902_row23983098"><th class="cellrowborder" valign="top" width="12.871287128712872%" id="mcps1.2.5.1.1"><p id="a0184bd526dfb42038b3db4f12de3d6d8"><a name="a0184bd526dfb42038b3db4f12de3d6d8"></a><a name="a0184bd526dfb42038b3db4f12de3d6d8"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="7.920792079207921%" id="mcps1.2.5.1.2"><p id="a27a9819d4d8141ad98b8893312a3b03f"><a name="a27a9819d4d8141ad98b8893312a3b03f"></a><a name="a27a9819d4d8141ad98b8893312a3b03f"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="9.900990099009901%" id="mcps1.2.5.1.3"><p id="a77f706449efc4f24b778ed2b7b860c69"><a name="a77f706449efc4f24b778ed2b7b860c69"></a><a name="a77f706449efc4f24b778ed2b7b860c69"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="69.3069306930693%" id="mcps1.2.5.1.4"><p id="a4f8cac6b5814498ab46cae6c1db07e8d"><a name="a4f8cac6b5814498ab46cae6c1db07e8d"></a><a name="a4f8cac6b5814498ab46cae6c1db07e8d"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0069077902_row6962642"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0069077902_p27103168"><a name="zh-cn_topic_0069077902_p27103168"></a><a name="zh-cn_topic_0069077902_p27103168"></a>is_success</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0069077902_p47873010"><a name="zh-cn_topic_0069077902_p47873010"></a><a name="zh-cn_topic_0069077902_p47873010"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0069077902_p52508625"><a name="zh-cn_topic_0069077902_p52508625"></a><a name="zh-cn_topic_0069077902_p52508625"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p3346192311417"><a name="p3346192311417"></a><a name="p3346192311417"></a>执行请求是否成功。<span class="parmvalue" id="parmvalue150180616947"><a name="parmvalue150180616947"></a><a name="parmvalue150180616947"></a><b>true</b></span>表示请求执行成功。</p>
</td>
</tr>
<tr id="zh-cn_topic_0069077902_row26735465"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0069077902_p18089046"><a name="zh-cn_topic_0069077902_p18089046"></a><a name="zh-cn_topic_0069077902_p18089046"></a>message</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0069077902_p55926603"><a name="zh-cn_topic_0069077902_p55926603"></a><a name="zh-cn_topic_0069077902_p55926603"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0069077902_p33761009"><a name="zh-cn_topic_0069077902_p33761009"></a><a name="zh-cn_topic_0069077902_p33761009"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p4346723111420"><a name="p4346723111420"></a><a name="p4346723111420"></a>系统提示信息，执行成功时，信息可能为空。</p>
</td>
</tr>
<tr id="zh-cn_topic_0069077902_row49931759"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="zh-cn_topic_0069077902_p17940710"><a name="zh-cn_topic_0069077902_p17940710"></a><a name="zh-cn_topic_0069077902_p17940710"></a>table_count</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="zh-cn_topic_0069077902_p43911368"><a name="zh-cn_topic_0069077902_p43911368"></a><a name="zh-cn_topic_0069077902_p43911368"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0069077902_p51071"><a name="zh-cn_topic_0069077902_p51071"></a><a name="zh-cn_topic_0069077902_p51071"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="zh-cn_topic_0069077902_p4136819"><a name="zh-cn_topic_0069077902_p4136819"></a><a name="zh-cn_topic_0069077902_p4136819"></a>表的总个数。</p>
</td>
</tr>
<tr id="zh-cn_topic_0069077902_row37231375"><td class="cellrowborder" colspan="4" valign="top" headers="mcps1.2.5.1.1 mcps1.2.5.1.2 mcps1.2.5.1.3 mcps1.2.5.1.4 "><p id="zh-cn_topic_0069077902_p62951400"><a name="zh-cn_topic_0069077902_p62951400"></a><a name="zh-cn_topic_0069077902_p62951400"></a><strong id="b10351538193415"><a name="b10351538193415"></a><a name="b10351538193415"></a>tables</strong></p>
</td>
</tr>
<tr id="row6296920173020"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p829618203306"><a name="p829618203306"></a><a name="p829618203306"></a>create_time</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p9296320193015"><a name="p9296320193015"></a><a name="p9296320193015"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p14296122019308"><a name="p14296122019308"></a><a name="p14296122019308"></a>Timestamp</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p42966203309"><a name="p42966203309"></a><a name="p42966203309"></a>表创建时间。</p>
</td>
</tr>
<tr id="row321158893927"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p2568988893931"><a name="p2568988893931"></a><a name="p2568988893931"></a>data_type</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p50620193931"><a name="p50620193931"></a><a name="p50620193931"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p4100229093931"><a name="p4100229093931"></a><a name="p4100229093931"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p3285115593931"><a name="p3285115593931"></a><a name="p3285115593931"></a>所列OBS表数据的类型，目前支持：parquet、ORC、CSV、JSON格式。只有OBS表有该参数，其他表没有该参数。</p>
</td>
</tr>
<tr id="row2852936193019"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p20852136183011"><a name="p20852136183011"></a><a name="p20852136183011"></a>data_location</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p19852153623014"><a name="p19852153623014"></a><a name="p19852153623014"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p88521336113011"><a name="p88521336113011"></a><a name="p88521336113011"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p1085215360303"><a name="p1085215360303"></a><a name="p1085215360303"></a>数据存储位置，分为MANAGED，EXTERNAL和VIEW，其中EXTERNAL包括OBS表、CLoudTable表。</p>
</td>
</tr>
<tr id="row163531832163018"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p7353232153010"><a name="p7353232153010"></a><a name="p7353232153010"></a>last_access_time</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p103532032103015"><a name="p103532032103015"></a><a name="p103532032103015"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p9353532183012"><a name="p9353532183012"></a><a name="p9353532183012"></a>Timestamp</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p735413213016"><a name="p735413213016"></a><a name="p735413213016"></a>最近更新时间。</p>
</td>
</tr>
<tr id="row461162915304"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p1361192916301"><a name="p1361192916301"></a><a name="p1361192916301"></a>location</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p16611929143013"><a name="p16611929143013"></a><a name="p16611929143013"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p261529143012"><a name="p261529143012"></a><a name="p261529143012"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p1761152916309"><a name="p1761152916309"></a><a name="p1761152916309"></a>OBS表上的存储路径。</p>
</td>
</tr>
<tr id="row4839142453020"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p16839112419302"><a name="p16839112419302"></a><a name="p16839112419302"></a>owner</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p3839202412302"><a name="p3839202412302"></a><a name="p3839202412302"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p1483952443010"><a name="p1483952443010"></a><a name="p1483952443010"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p138391324153015"><a name="p138391324153015"></a><a name="p138391324153015"></a>表创建者。</p>
</td>
</tr>
<tr id="row178427163113"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p128427115313"><a name="p128427115313"></a><a name="p128427115313"></a>table_name</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p118428123111"><a name="p118428123111"></a><a name="p118428123111"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p08429113120"><a name="p08429113120"></a><a name="p08429113120"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p18421113316"><a name="p18421113316"></a><a name="p18421113316"></a>表名称。</p>
</td>
</tr>
<tr id="row148781374318"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p98783717316"><a name="p98783717316"></a><a name="p98783717316"></a>table_size</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p587816783115"><a name="p587816783115"></a><a name="p587816783115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p1087812714311"><a name="p1087812714311"></a><a name="p1087812714311"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p38781171316"><a name="p38781171316"></a><a name="p38781171316"></a>DLI表的大小。非DLI表该参数值为0。</p>
</td>
</tr>
<tr id="row9547131613111"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p45478168313"><a name="p45478168313"></a><a name="p45478168313"></a>table_type</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p154731617312"><a name="p154731617312"></a><a name="p154731617312"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p2054781610316"><a name="p2054781610316"></a><a name="p2054781610316"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p1274488162347"><a name="p1274488162347"></a><a name="p1274488162347"></a>表类型：</p>
<a name="ul54699588162349"></a><a name="ul54699588162349"></a><ul id="ul54699588162349"><li>OBS表为EXTERNAL</li><li>DLI表为MANAGED</li><li>View为VIEW</li></ul>
</td>
</tr>
<tr id="row60272235154542"><td class="cellrowborder" valign="top" width="12.871287128712872%" headers="mcps1.2.5.1.1 "><p id="p32767381154542"><a name="p32767381154542"></a><a name="p32767381154542"></a>partition_columns</p>
</td>
<td class="cellrowborder" valign="top" width="7.920792079207921%" headers="mcps1.2.5.1.2 "><p id="p50030612154542"><a name="p50030612154542"></a><a name="p50030612154542"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="9.900990099009901%" headers="mcps1.2.5.1.3 "><p id="p31618987154542"><a name="p31618987154542"></a><a name="p31618987154542"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="69.3069306930693%" headers="mcps1.2.5.1.4 "><p id="p15927161154542"><a name="p15927161154542"></a><a name="p15927161154542"></a>分区字段。只有OBS分区表有该参数，其他表没有该参数。</p>
</td>
</tr>
</tbody>
</table>

>![](public_sys-resources/icon-note.gif) **说明：**   
>若URI中的过滤条件“with-detail=false”，则tables相关参数中只返回“data\_location“，“table\_name“，“table\_type“三个参数。  

## 示例<a name="section6600445715217"></a>

-   请求样例：

    ```
    None
    ```

-   成功响应样例：

    ```
    {
      "is_success": true,
      "message": "",
      "table_count": 1,
      "tables": [
        { "create_time":1517364268000,
          "data_location":"OBS",
          "data_type":"csv",
          "last_access_time":1517364268000,
          "location":"s3a://DLI/sqldata/data.txt",
          "owner":"test",     
          "partition_columns": ["a0"],
          "table_name":"obs_t",
          "table_size":0,
          "table_type":"EXTERNAL"
        }
      ]
    }
    ```

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >调用API出错后，将不会返回上述结果，而是返回错误码和错误信息，详细介绍请参见[错误码](错误码.md)。  


